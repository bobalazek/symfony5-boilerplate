{% set class = class is defined ? class : '' %}
{% set ignore_avatar = ignore_avatar is defined ? ignore_avatar : false %}
{% set style = size is defined ? 'style="width: ' ~ size ~ '; height: ' ~ size ~ '; max-width: ' ~ size ~ '; max-height: ' ~ size ~ '; font-size: ' ~ size ~ '"' : '' %}
{% set user_image_url = vich_uploader_asset(user, 'imageFile') %}
{% set user_avatar_image = user.getAvatarImage() %}
{% set image_src = user_avatar_image and not ignore_avatar
  ? asset('assets/images/avatars/' ~ user_avatar_image)
  : user_image_url %}
<img
  src="{{ image_src ? image_src : asset('assets/images/avatars/00.png') }}"
  class="avatar-image img-fluid {{ class }}"
  {{ style | raw }}
/>
